# QryCluster

## Props

| Prop name         | Description                                                                                                                                                                                                                                                                                                              | Type                    | Values                  | Default                                         |
| ----------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ----------------------- | ----------------------- | ----------------------------------------------- |
| vectors           | An array of vector embeddings, each expressed as a Uint8Array.<br/>These must all be of the same length i.e. the same number of dimensions.                                                                                                                                                                              | Array&lt;Uint8Array&gt; | -                       |                                                 |
| minClusterSim     | The minimum similarity connecting all vectors in a cluster.<br/>In practice acceptable values range from 0.5 to 1.<br/>A binary vector resembling random white noise (think of an untuned TV) would <br/>match 50% of bits in typical vectors. That is why no-similarity score around 0.5<br/>while an exact match is 1. | number                  | -                       | 0.7                                             |
| vw                | The viewport width of the cluster component                                                                                                                                                                                                                                                                              | number                  | -                       | 100                                             |
| minDocsPerCluster | Filters clusters that have less than this number of vectors in it                                                                                                                                                                                                                                                        | number                  | -                       | 1                                               |
| clusterClass      | The css class given to each cluster element                                                                                                                                                                                                                                                                              | string                  | -                       | "aos-qry-codes-cluster"                         |
| slider            | The location of the slider used to change minClusterSim and therefore the number of clusters formed.                                                                                                                                                                                                                     | string                  | `none`, `top`, `bottom` | "top"                                           |
| clusterScorer     | An optional function to sort the list of clusters before they are displayed left to right (highest score first).<br/>The default sort order is by cluster size (the number of similar vector elements in each cluster)                                                                                                   | func                    | -                       | (cluster: Cluster) =&gt; cluster.indices.length |

## Slots

| Name           | Description                                                        | Bindings                                                                                                                                                                                                                                                                                                                                                         |
| -------------- | ------------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| clusterHeader  | Slot used for the top element for each cluster                     | **clusterVectorIndices** `number[]` - The indices of each vector element grouped in this cluster<br/>**clusterMergedVector** `Uint8Array` - The averaged vector of all the vectors in this cluster (useful for querying vector databases for more similar content)<br/>**clusterIndex** `number` - The index of the cluster in the list of clusters (zero based) |
| clusterElement | Slot used for each vector element arranged vertically in a cluster | **vectorIndex** `number` - The index of the original vector in the "vectors" array passed in properties.<br/><br/>**elementNumber** `number` - The index of the vector element in this cluster (zero based)<br/>**clusterSize** `number` - The number of similar vectors grouped in this cluster                                                                 |

---
